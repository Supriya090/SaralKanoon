<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/singleCategory.css' />
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  </head>
  <body>
    <%if(isLoggedIn){%>
      <%- include('partials/loggedInHeader') %>
    <%}else{%>  
      <%- include('partials/header') %>
    <%}%>
      <div class="container indv-main-div">
        <div class="mainLawList">
          <h2>Laws related to <%=sexualAssault.title%></h2>
          <%if(sexualAssault.definition.length){%> 
          <button class="collapsibles"><%=sexualAssault.definition[0].title%></button>
            <div class="content">
              <p> According to the <strong><%=sexualAssault.actName%></strong>,<br>
                  <br><strong> <%=sexualAssault.definition[1].title%></strong> <%=sexualAssault.definition[1].text%></li>
                </p>
            </div>
            <%}%>
            <button class="collapsibles"><%=sexualAssault.lawText[0]%></button>
            <div class="content">
                <p>
                  <ol>
                    <%for(let i =1; i<sexualAssault.lawText.length; i++){%>
                      <li><%=sexualAssault.lawText[i]%></li>
                      <br>
                    <%}%>
                    </ol>
                </p>
            </div>
            <button class="collapsibles"><%=sexualAssault.filingComplaintText[0]%></button>
                <div class="content">
                  <p>
                    <%=sexualAssault.filingComplaintText[1]%>
                </p>
                </div>
            <button class="collapsibles"><%=sexualAssault.punishmentText[0]%></button>
                <div class="content">
                    <p>
                        <%=sexualAssault.punishmentText[1]%>
                      <ol>
                        <%for(let i =2; i<sexualAssault.punishmentText.length; i++){%>
                          <li><%=sexualAssault.punishmentText[i]%></li>
                          <br>
                        <%}%>
                        </ol>
                    </p>
                </div>  
            <%if(sexualAssault.additionalPenaltyText.length){%>      
            <button class="collapsibles"><%=sexualAssault.additionalPenaltyText[0]%></button>
            <div class="content">
                <p>
                    <%=sexualAssault.additionalPenaltyText[1]%>
                  <ol>
                      <li><%=sexualAssault.additionalPenaltyText[2]%></li>
                      <br>
                      <li><%=sexualAssault.additionalPenaltyText[3]%></li>
                      <br>
                    </ol>
                    <%=sexualAssault.additionalPenaltyText[4]%>
                    <br><br>
                    <%=sexualAssault.additionalPenaltyText[5]%>
                </p>
            </div> 
            <button class="collapsibles"><%=sexualAssault.maritalRapeText[0]%></button>
                <div class="content">
                    <p>
                        <%=sexualAssault.maritalRapeText[1]%>
                        <br><br>
                        <%=sexualAssault.maritalRapeText[2]%>
                      <ol>
                        <%for(let i =3; i<sexualAssault.maritalRapeText.length; i++){%>
                          <li> <%=sexualAssault.maritalRapeText[i]%></li>
                          <br>
                        <%}%>
                        </ol>
                    </p>
                </div>

            <button class="collapsibles"><%=sexualAssault.maritalRapeProtectionText[0]%></button>
                <div class="content">
                    <p>
                        <%=sexualAssault.maritalRapeProtectionText[1]%>
                      <ol>
                        <%for(let i =2; i<sexualAssault.maritalRapeProtectionText.length; i++){%>
                          <li> <%=sexualAssault.maritalRapeProtectionText[i]%></li>
                          <br>
                        <%}%>
                        </ol>
                    </p>
                </div> 
            <%}%>    
            <button class="collapsibles"><%=sexualAssault.compensationText[0]%></button>
            <div class="content">
                <p>
                  <%=sexualAssault.compensationText[1]%>
                </p>
            </div>
            <button class="collapsibles"><%=sexualAssault.limitation[0]%></button>
            <div class="content">
                <p>
                  <%=sexualAssault.limitation[1]%><br><br>
                  <%=sexualAssault.limitation[2]%>
                </p>
            </div>
            <%if(sexualAssault.organization.length){%> 
            <button class="collapsibles"><%=sexualAssault.organization[0].title%></button>
            <div class="content">
              <p>
                <ol style="list-style-type: none;">
                  <%for(let i =1; i<(sexualAssault.organization.length); i++){%>
                    <li>
                      <a href="<%=sexualAssault.organization[i].link%>" id="orgLinks"> <%=sexualAssault.organization[i].title%></a>  
                    </li>
                    <br>
                  <%}%>
                </ol>
              </p>
            </div>
            <%}%>
        </div>
        <!-- Collapses and uncollapses the collapsibles :P -->
          <script>
            var coll = document.getElementsByClassName("collapsibles");
            for (let i = 0; i < coll.length; i++) {
              coll[i].addEventListener("click", function() {
                this.classList.toggle("activeNow");
                var content = this.nextElementSibling;
                if (content.style.maxHeight){
                  content.style.maxHeight = null;
                } else {
                  content.style.maxHeight = content.scrollHeight + "px";
                } 
              });
            }
          </script>            
    </div>
    <%- include('partials/footer') %>
  </body>
</html>
